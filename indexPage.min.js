var app=angular.module("yktb",["ui.router","ngAnimate"]);app.directive("goToTop",function(){return{scope:{minHeight:"@"},template:'<div id="gotoTop" title="返回顶部"></div>',link:function(e,t,o){t.click(function(){$("html,body").animate({scrollTop:0},700)}),e.minHeight=e.minHeight?e.minHeight:600,$(window).scroll(function(){var t=$(window).scrollTop();t>e.minHeight?$("#gotoTop").fadeIn(100):$("#gotoTop").fadeOut(200)})}}}),app.config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/home"),e.state("home",{url:"/home",templateUrl:"view/home.html",controller:"homeController"}).state("home.homeItem1",{url:"/homeItem1",templateUrl:"view/homeItem1.html"}).state("home.homeItem2",{url:"/homeItem2",templateUrl:"view/homeItem2.html"}).state("project",{url:"/project",templateUrl:"view/project.html",controller:"projectController"}).state("project.info",{url:"/info",templateUrl:"view/project.info.html"}).state("project.detail",{url:"/detail",templateUrl:"view/project.detail.html"}).state("project.support",{url:"/support",templateUrl:"view/project.support.html"}).state("signProgram",{url:"/signProgram",templateUrl:"view/signProgram.html",controller:"signProgramController"}).state("signProgram.page2",{url:"/page2",templateUrl:"view/signProgram.page2.html"}).state("signProgram.page3",{url:"/page3",templateUrl:"view/signProgram.page3.html"}).state("login",{url:"/login",templateUrl:"view/login.html",controller:"loginController"}).state("register",{url:"/register",templateUrl:"view/register.html",controller:"registerController"}).state("findPwd",{url:"/findPwd",templateUrl:"view/findPwd.html"})}]),app.controller("homeController",["$scope","$interval",function(e,t){function o(){e.showIndex=(e.showIndex+1)%e.imgSlide.length}e.imgSlide=["images/homepage-banner1.png","images/homepage-banner2.png","images/homepage-banner3.png","images/homepage-banner5.png"],e.showIndex=e.imgSlide.length-1;var l=t(o,2e3);e.end=function(o){e.showIndex=o,t.cancel(l)},e.start=function(){l=t(o,2e3)},e.choices=["最新故事","推荐故事","众筹结束"],e.choiceIndex=0,e.chooseFn=function(t){e.choiceIndex=t}}]),app.controller("loginController",["$scope","$state",function(e,t){e.clickFn=function(){e.loginForm.$valid&&t.go("home")}}]),app.controller("projectController",["$scope","$interval","$http",function(e,t,o){e.showTitle=0,e.title=["1.基本信息","2.项目描述","3.支持选项"],e.subTitle=function(){e.showTitle--},e.addTitle=function(){e.showTitle++},e.state=!1,e.showFn=function(){e.state=!e.state},e.eState=!1,e.showEmail=function(){e.eState=!e.eState}}]),app.controller("signProgramController",["$scope","$interval","$http",function(e,t,o){e.showTitle=0,e.title=["1.帮助与须知","2.填写信息","3.完成"],e.titleNum=function(t){e.showTitle=t}}]);